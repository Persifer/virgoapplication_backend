<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <nav role="navigation" aria-label="Navigation">
        <a href="/site/immobile/list/0/20">Home</a>
        <a href="/site/utente/0/20">I tuoi immobili</a>
        <a href="/site/utente/getListaOfferte">Offerte</a>
        <a href="/site/utente/getInfo">Dati utente</a>
    </nav>
    <meta charset="UTF-8">
    <title>Pagina Utente</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
        }
        nav {
            display: flex;
            justify-content: space-evenly;
            align-items: center;
            background-color: green;
            border-radius: 5px;
        }
        a {
            text-decoration: none;
        }
    </style>
</head>
<body>

<h1>Lista Immobili</h1>
<table>
    <tbody>
    <!-- Loop attraverso gli immobili caricati -->
    <tr th:each="immobile : ${listaImmobiliUtente}">
        <th>Titolo<td><a th:href="@{/site/immobile/viewImmobile/{id}(id=${immobile.idImmobile})}" th:text="${immobile.titolo}"></a></td></th>
        <th>Indirizzo<td th:text="${immobile.via}" /></th>
        <th>Prezzo<td th:text="${immobile.prezzo}" /></th>
        <th><a th:href="@{/site/immobile/infoToModify/{id} (id=${immobile.idImmobile})}"}/>modifica immobile</th>
    </tr>
    </tbody>
</table>

<a href="/site/immobile">Crea un altro immobile</a>

<h1>Chat Aperte</h1>
<table>
    <thead>
    <tr>
        <th>ID Chat</th>
        <th>Nome Utente</th>
        <th>Oggetto</th>
    </tr>
    </thead>
    <tbody>
    <!-- Loop attraverso le chat aperte -->
    <tr th:each="chat : ${chatAperte}">
        <td th:text="${chat.id}" />
        <td th:text="${chat.nomeUtente}" />
        <td th:text="${chat.oggetto}" />


    </tr>
    </tbody>
</table>

<h1>Contratti</h1>
<h2>Tutti i Contratti</h2>
<table>
    <thead>
    <tr>
        <th>ID Contratto</th>
        <th>Nome Venditore</th>
        <th>Nome Acquirente</th>
        <th>Oggetto</th>
    </tr>
    </thead>
    <tbody>
    <!-- Loop attraverso tutti i contratti -->
    <tr th:each="contratto : ${contratti}">
        <td th:text="${contratto.id}" />
        <td th:text="${contratto.nomeVenditore}" />
        <td th:text="${contratto.nomeAcquirente}" />
        <td th:text="${contratto.oggetto}" />
    </tr>
    </tbody>
</table>

<h2>Contratti da Venditore</h2>
<table>
    <thead>
    <tr>
        <th>ID Contratto</th>
        <th>Nome Venditore</th>
        <th>Oggetto</th>
    </tr>
    </thead>
    <tbody>
    <!-- Loop attraverso i contratti da venditore -->
    <tr th:each="contratto : ${contrattiVenditore}">
        <td th:text="${contratto.id}" />
        <td th:text="${contratto.nomeVenditore}" />
        <td th:text="${contratto.oggetto}" />
    </tr>
    </tbody>
</table>

<h2>Contratti da Acquirente</h2>
<table>
    <thead>
    <tr>
        <th>ID Contratto</th>
        <th>Nome Acquirente</th>
        <th>Oggetto</th>
    </tr>
    </thead>
    <tbody>
    <!-- Loop attraverso i contratti da acquirente -->
    <tr th:each="contratto : ${contrattiAcquirente}">
        <td th:text="${contratto.id}" />
        <td th:text="${contratto.nomeAcquirente}" />
        <td th:text="${contratto.oggetto}" />
    </tr>
    </tbody>
</table>
<a href="/site/utente/getListaOfferte">Visualizza le tue offerte</a><br><br>
<a href="/site/utente/getListProposte">Visualizza le tue proposte</a>
</body>
</html>





